<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>æ—¥è¯­æ°´å¹³æµ‹è¯• | Japanese Level Quiz</title>
  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'blue-50': '#eff6ff',
            'indigo-100': '#e0e7ff',
            'blue-600': '#2563eb',
            'blue-700': '#1d4ed8',
            'green-100': '#dcfce7',
            'green-600': '#16a34a',
            'red-600': '#dc2626',
            'gray-800': '#1f2937',
            'gray-600': '#4b5563',
            'gray-500': '#6b7280',
            'gray-200': '#e5e7eb',
          }
        }
      }
    }
  </script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4">
  <div id="app" class="bg-white rounded-2xl shadow-xl p-8 max-w-2xl w-full">
    <!-- åŠ¨æ€å†…å®¹å°†é€šè¿‡ JS æ¸²æŸ“ -->
  </div>

  <script>
    // =============== æ•°æ® ===============
    const questions = [
      { id: 1, type: 'multiple', question: 'ã€Œå­¦æ ¡ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œå­¦æ ¡ã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ãŒã£ã“ã†', 'ãŒã£ã“ã†', 'ãŒã£ã“ã†ã†', 'ã‹ã£ã“ã†'], correctAnswer: 'ãŒã£ã“ã†' },
      { id: 2, type: 'multiple', question: 'ã€Œæœ‹å‹ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œå‹é”ã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã¨ã‚‚ã ã¡', 'ã¨ã‚‚ãŸã¡', 'ã‚†ã†ã ã¡', 'ã‚†ã†ãŸã¡'], correctAnswer: 'ã¨ã‚‚ã ã¡' },
      { id: 3, type: 'multiple', question: 'ã€Œè€å¸ˆã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œå…ˆç”Ÿã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã›ã‚“ã›ã„', 'ã›ã‚“ã›ã„', 'ã›ã‚“ã›', 'ã›ã‚“ã›ã„ãˆ'], correctAnswer: 'ã›ã‚“ã›ã„' },
      { id: 4, type: 'multiple', question: 'ã€Œå­¦ä¹ ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œå‹‰å¼·ã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã¹ã‚“ãã‚‡ã†', 'ã¹ã‚“ãã‚‡', 'ã¹ã‚“ãã‚‡ã†ã†', 'ã¸ã‚“ãã‚‡ã†'], correctAnswer: 'ã¹ã‚“ãã‚‡ã†' },
      { id: 5, type: 'multiple', question: 'ã€Œéå¸¸å–œæ¬¢ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œå¤§å¥½ãã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã ã„ã™ã', 'ãŸã„ã™ã', 'ã ã„ã™ã', 'ãŸã„ã™ã'], correctAnswer: 'ã ã„ã™ã' },
      { id: 6, type: 'truefalse', question: 'ã€Œé£Ÿã¹ã‚‹ã€è¯»ä½œã€ŒãŸã¹ã‚‹ã€ã€‚', questionJp: 'ã€Œé£Ÿã¹ã‚‹ã€ã¯ã€ŒãŸã¹ã‚‹ã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 7, type: 'truefalse', question: 'ã€Œè¡Œãã€è¯»ä½œã€Œã„ãã€ã€‚', questionJp: 'ã€Œè¡Œãã€ã¯ã€Œã„ãã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 8, type: 'truefalse', question: 'ã€Œçœ‹ã€è¯»ä½œã€Œã¿ã‚‹ã€ã€‚', questionJp: 'ã€Œè¦‹ã‚‹ã€ã¯ã€Œã¿ã‚‹ã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 9, type: 'truefalse', question: 'ã€Œå†™ã€è¯»ä½œã€Œã‹ãã€ã€‚', questionJp: 'ã€Œæ›¸ãã€ã¯ã€Œã‹ãã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 10, type: 'truefalse', question: 'ã€Œè¯´è¯ã€è¯»ä½œã€Œã¯ãªã™ã€ã€‚', questionJp: 'ã€Œè©±ã™ã€ã¯ã€Œã¯ãªã™ã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 11, type: 'multiple', question: 'ã€Œæ—¥è¯­ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œæ—¥æœ¬èªã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã«ã»ã‚“ã”', 'ã«ã»ã‚“ã”', 'ã«ã£ã½ã‚“ã”', 'ã«ã»ã‚“ã“'], correctAnswer: 'ã«ã»ã‚“ã”' },
      { id: 12, type: 'multiple', question: 'ã€Œå®¶äººã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œå®¶æ—ã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã‹ãã', 'ã‹ãã', 'ã‹ããã†', 'ãŒãã'], correctAnswer: 'ã‹ãã' },
      { id: 13, type: 'multiple', question: 'ã€Œæ—¶é—´ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œæ™‚é–“ã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã˜ã‹ã‚“', 'ã˜ã‹ã‚“', 'ã˜ã‹ã‚“ã‚“', 'ã—ã‘ã‚“'], correctAnswer: 'ã˜ã‹ã‚“' },
      { id: 14, type: 'multiple', question: 'ã€Œä»Šå¤©ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œä»Šæ—¥ã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ãã‚‡ã†', 'ãã‚‡ã†', 'ãã‚‡', 'ãã‚‡ã†ã†'], correctAnswer: 'ãã‚‡ã†' },
      { id: 15, type: 'multiple', question: 'ã€Œæ˜å¤©ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œæ˜æ—¥ã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã‚ã—ãŸ', 'ã‚ã—ãŸ', 'ã‚ã™', 'ã¿ã‚‡ã†ã«ã¡'], correctAnswer: 'ã‚ã—ãŸ' },
      { id: 16, type: 'truefalse', question: 'ã€Œæ°´ã€è¯»ä½œã€Œã¿ãšã€ã€‚', questionJp: 'ã€Œæ°´ã€ã¯ã€Œã¿ãšã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 17, type: 'truefalse', question: 'ã€Œç«ã€è¯»ä½œã€Œã²ã€ã€‚', questionJp: 'ã€Œç«ã€ã¯ã€Œã²ã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 18, type: 'truefalse', question: 'ã€Œå±±ã€è¯»ä½œã€Œã‚„ã¾ã€ã€‚', questionJp: 'ã€Œå±±ã€ã¯ã€Œã‚„ã¾ã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 19, type: 'truefalse', question: 'ã€Œæ²³ã€è¯»ä½œã€Œã‹ã‚ã€ã€‚', questionJp: 'ã€Œå·ã€ã¯ã€Œã‹ã‚ã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 20, type: 'truefalse', question: 'ã€ŒèŠ±ã€è¯»ä½œã€Œã¯ãªã€ã€‚', questionJp: 'ã€ŒèŠ±ã€ã¯ã€Œã¯ãªã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 21, type: 'multiple', question: 'ã€Œç”µè½¦ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œé›»è»Šã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã§ã‚“ã—ã‚ƒ', 'ã§ã‚“ã—ã‚ƒ', 'ã§ã‚“ã—ã‚ƒã‚', 'ã¦ã‚“ã—ã‚ƒ'], correctAnswer: 'ã§ã‚“ã—ã‚ƒ' },
      { id: 22, type: 'multiple', question: 'ã€Œè½¦ç«™ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œé§…ã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ãˆã', 'ãˆã', 'ãˆãã„', 'ãˆã£ã'], correctAnswer: 'ãˆã' },
      { id: 23, type: 'multiple', question: 'ã€Œç”µè¯ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œé›»è©±ã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã§ã‚“ã‚', 'ã§ã‚“ã‚', 'ã§ã‚“ã‚ã‚', 'ã¦ã‚“ã‚'], correctAnswer: 'ã§ã‚“ã‚' },
      { id: 24, type: 'multiple', question: 'ã€ŒæŠ¥çº¸ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œæ–°èã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã—ã‚“ã¶ã‚“', 'ã—ã‚“ã¶ã‚“', 'ã—ã‚“ã·ã‚“', 'ã—ã‚“ã¶ã‚“ã‚“'], correctAnswer: 'ã—ã‚“ã¶ã‚“' },
      { id: 25, type: 'multiple', question: 'ã€Œæ‚å¿—ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œé›‘èªŒã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã–ã£ã—', 'ã–ã£ã—', 'ã–ã£ã—ã„', 'ã•ã£ã—'], correctAnswer: 'ã–ã£ã—' },
      { id: 26, type: 'truefalse', question: 'ã€Œä¹¦ã€è¯»ä½œã€Œã»ã‚“ã€ã€‚', questionJp: 'ã€Œæœ¬ã€ã¯ã€Œã»ã‚“ã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 27, type: 'truefalse', question: 'ã€Œé“…ç¬”ã€è¯»ä½œã€Œãˆã‚“ã´ã¤ã€ã€‚', questionJp: 'ã€Œé‰›ç­†ã€ã¯ã€Œãˆã‚“ã´ã¤ã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 28, type: 'truefalse', question: 'ã€Œæ¡Œå­ã€è¯»ä½œã€Œã¤ããˆã€ã€‚', questionJp: 'ã€Œæœºã€ã¯ã€Œã¤ããˆã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 29, type: 'truefalse', question: 'ã€Œæ¤…å­ã€è¯»ä½œã€Œã„ã™ã€ã€‚', questionJp: 'ã€Œæ¤…å­ã€ã¯ã€Œã„ã™ã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 30, type: 'truefalse', question: 'ã€Œçª—æˆ·ã€è¯»ä½œã€Œã¾ã©ã€ã€‚', questionJp: 'ã€Œçª“ã€ã¯ã€Œã¾ã©ã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 31, type: 'multiple', question: 'ã€Œè€å¸ˆã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œå…ˆç”Ÿã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã›ã‚“ã›ã„', 'ã›ã‚“ã›ã„', 'ã›ã‚“ã›', 'ã›ã‚“ã›ã„ãˆ'], correctAnswer: 'ã›ã‚“ã›ã„' },
      { id: 32, type: 'multiple', question: 'ã€Œå­¦ç”Ÿã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œå­¦ç”Ÿã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ãŒãã›ã„', 'ãŒãã›ã„', 'ãŒãã›', 'ãŒãã›ã„ãˆ'], correctAnswer: 'ãŒãã›ã„' },
      { id: 33, type: 'multiple', question: 'ã€Œè€å¸ˆã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œå…ˆç”Ÿã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã›ã‚“ã›ã„', 'ã›ã‚“ã›ã„', 'ã›ã‚“ã›', 'ã›ã‚“ã›ã„ãˆ'], correctAnswer: 'ã›ã‚“ã›ã„' },
      { id: 34, type: 'multiple', question: 'ã€Œæœ‹å‹ã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œå‹é”ã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã¨ã‚‚ã ã¡', 'ã¨ã‚‚ãŸã¡', 'ã‚†ã†ã ã¡', 'ã‚†ã†ãŸã¡'], correctAnswer: 'ã¨ã‚‚ã ã¡' },
      { id: 35, type: 'multiple', question: 'ã€Œå®¶äººã€çš„æ­£ç¡®è¯»éŸ³æ˜¯ï¼Ÿ', questionJp: 'ã€Œå®¶æ—ã€ã®æ­£ã—ã„èª­ã¿æ–¹ã¯ï¼Ÿ', options: ['ã‹ãã', 'ã‹ãã', 'ã‹ããã†', 'ãŒãã'], correctAnswer: 'ã‹ãã' },
      { id: 36, type: 'truefalse', question: 'ã€Œç‹—ã€è¯»ä½œã€Œã„ã¬ã€ã€‚', questionJp: 'ã€ŒçŠ¬ã€ã¯ã€Œã„ã¬ã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 37, type: 'truefalse', question: 'ã€ŒçŒ«ã€è¯»ä½œã€Œã­ã“ã€ã€‚', questionJp: 'ã€ŒçŒ«ã€ã¯ã€Œã­ã“ã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 38, type: 'truefalse', question: 'ã€Œé¸Ÿã€è¯»ä½œã€Œã¨ã‚Šã€ã€‚', questionJp: 'ã€Œé³¥ã€ã¯ã€Œã¨ã‚Šã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 39, type: 'truefalse', question: 'ã€Œé±¼ã€è¯»ä½œã€Œã•ã‹ãªã€ã€‚', questionJp: 'ã€Œé­šã€ã¯ã€Œã•ã‹ãªã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true },
      { id: 40, type: 'truefalse', question: 'ã€ŒèŠ±ã€è¯»ä½œã€Œã¯ãªã€ã€‚', questionJp: 'ã€ŒèŠ±ã€ã¯ã€Œã¯ãªã€ã¨èª­ã¿ã¾ã™ã€‚', correctAnswer: true }
    ];

    // =============== çŠ¶æ€ ===============
    let currentQuestion = 0;
    const answers = {};
    let score = 0;

    // =============== å·¥å…·å‡½æ•° ===============
    function getJapaneseAgeLevel(score) {
      if (score >= 35) return '6å²ä»¥ä¸Š';
      if (score >= 30) return '5å²';
      if (score >= 25) return '4å²';
      if (score >= 20) return '3å²';
      if (score >= 15) return '2å²';
      return '1å²ä»¥ä¸‹';
    }

    function getJapaneseAgeLevelJp(score) {
      if (score >= 35) return '6æ­³ä»¥ä¸Š';
      if (score >= 30) return '5æ­³';
      if (score >= 25) return '4æ­³';
      if (score >= 20) return '3æ­³';
      if (score >= 15) return '2æ­³';
      return '1æ­³ä»¥ä¸‹';
    }

    function render() {
      const app = document.getElementById('app');
      const currentQ = questions[currentQuestion];
      const progress = ((currentQuestion + 1) / questions.length) * 100;

      if (currentQuestion >= questions.length) {
        // æ˜¾ç¤ºç»“æœ
        app.innerHTML = `
          <div class="text-center mb-8">
            <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-3xl">ğŸ¯</span>
            </div>
            <h2 class="text-2xl font-bold text-gray-800 mb-2">
              æµ‹è¯•ç»“æœ<br>
              <span class="text-sm font-normal text-gray-600">ãƒ†ã‚¹ãƒˆçµæœ</span>
            </h2>
            <p class="text-gray-600 mb-4">
              æ‚¨çš„æ—¥è¯­æ°´å¹³<br>
              <span class="text-sm text-gray-500">ã‚ãªãŸã®æ—¥æœ¬èªãƒ¬ãƒ™ãƒ«</span>
            </p>
            <div class="bg-blue-50 rounded-xl p-6 mb-6">
              <p class="text-3xl font-bold text-blue-600 mb-2">
                ${getJapaneseAgeLevel(score)}<br>
                <span class="text-lg text-gray-600">${getJapaneseAgeLevelJp(score)}</span>
              </p>
              <p class="text-lg text-gray-700">
                å¾—åˆ†: ${score}/40<br>
                <span class="text-sm text-gray-500">å¾—ç‚¹: ${score}/40</span>
              </p>
            </div>
          </div>
          <button onclick="resetTest()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-xl transition duration-200 flex items-center justify-center">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg>
            å†æ¬¡æµ‹è¯•<br>
            <span class="text-sm">ã‚‚ã†ä¸€åº¦ãƒ†ã‚¹ãƒˆã™ã‚‹</span>
          </button>
        `;
        return;
      }

      // æ¸²æŸ“é¢˜ç›®
      let optionsHtml = '';
      if (currentQ.type === 'multiple') {
        optionsHtml = currentQ.options.map((opt, idx) => `
          <button
            onclick="selectOption('${opt}')"
            class="w-full text-left p-4 border-2 ${answers[currentQuestion] === opt ? 'border-blue-500 bg-blue-50' : 'border-gray-200'} rounded-xl hover:border-blue-300 hover:bg-blue-50 transition duration-200"
          >
            <span class="text-lg">${opt}</span>
          </button>
        `).join('');
        optionsHtml += `
          <div class="mt-6 text-right">
            <button
              onclick="nextQuestion()"
              ${answers[currentQuestion] === undefined ? 'disabled class="bg-gray-300"' : 'class="bg-blue-600 hover:bg-blue-700"'}
              class="text-white font-semibold py-3 px-6 rounded-xl transition duration-200 flex items-center"
            >
              ä¸‹ä¸€æ­¥<br>
              <span class="text-sm ml-1">æ¬¡ã¸</span>
              <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </button>
          </div>
        `;
      } else {
        optionsHtml = `
          <div class="flex space-x-4">
            <button
              onclick="handleTrueFalse(true)"
              class="flex-1 p-4 border-2 border-gray-200 rounded-xl hover:border-green-300 hover:bg-green-50 transition duration-200"
            >
              <div class="text-center">
                <div class="text-lg font-semibold text-green-600 mb-1">â—‹</div>
                <div class="font-medium">æ­£ç¡®</div>
                <div class="text-sm text-gray-600">æ­£ã—ã„</div>
              </div>
            </button>
            <button
              onclick="handleTrueFalse(false)"
              class="flex-1 p-4 border-2 border-gray-200 rounded-xl hover:border-red-300 hover:bg-red-50 transition duration-200"
            >
              <div class="text-center">
                <div class="text-lg font-semibold text-red-600 mb-1">Ã—</div>
                <div class="font-medium">é”™è¯¯</div>
                <div class="text-sm text-gray-600">é–“é•ã„</div>
              </div>
            </button>
          </div>
        `;
      }

      app.innerHTML = `
        <div class="mb-6">
          <div class="flex justify-between text-sm text-gray-600 mb-2">
            <span>
              é—®é¢˜ ${currentQuestion + 1}/${questions.length}<br>
              <span class="text-xs text-gray-500">è³ªå• ${currentQuestion + 1}/${questions.length}</span>
            </span>
            <span>${Math.round(progress)}%</span>
          </div>
          <div class="w-full bg-gray-200 rounded-full h-2">
            <div class="bg-blue-600 h-2 rounded-full" style="width: ${progress}%"></div>
          </div>
        </div>
        <div class="mb-8">
          <h3 class="text-xl font-semibold text-gray-800 mb-2 leading-relaxed">${currentQ.question}</h3>
          <p class="text-sm text-gray-600">${currentQ.questionJp}</p>
        </div>
        <div class="space-y-3">
          ${optionsHtml}
        </div>
      `;
    }

    // =============== äº‹ä»¶å¤„ç† ===============
    function selectOption(option) {
      answers[currentQuestion] = option;
      render();
    }

    function nextQuestion() {
      if (answers[currentQuestion] !== undefined) {
        currentQuestion++;
        if (currentQuestion >= questions.length) {
          // è®¡ç®—åˆ†æ•°
          score = 0;
          for (let i = 0; i < questions.length; i++) {
            if (answers[i] === questions[i].correctAnswer) {
              score++;
            }
          }
        }
        render();
      }
    }

    function handleTrueFalse(answer) {
      answers[currentQuestion] = answer;
      currentQuestion++;
      if (currentQuestion >= questions.length) {
        score = 0;
        for (let i = 0; i < questions.length; i++) {
          if (answers[i] === questions[i].correctAnswer) {
            score++;
          }
        }
      }
      render();
    }

    function resetTest() {
      currentQuestion = 0;
      Object.keys(answers).forEach(key => delete answers[key]);
      score = 0;
      render();
    }

    // =============== å¯åŠ¨ ===============
    render();
  </script>
</body>
</html>